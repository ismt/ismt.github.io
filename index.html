<!DOCTYPE html>

<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible"
          content="IE=edge"
    >
    <meta name="viewport"
          content="width=device-width, initial-scale=1"
    >
    <meta name="lang"
          content="ru"
    >


    <title>Страница</title>


</head>


<body>
<video style="width: 100%"
       autoplay
       controls
>
    <source src="/output_h264.mp4"
            type="video/mp4"
    >
</video>


<script>
    (function () {
        const apngTest = new Image(), ctx = document.createElement('canvas').getContext('2d');

        apngTest.onload = function () {
            ctx.drawImage(apngTest, 0, 0);
            window.APNG_SUPPORTED = (ctx.getImageData(0, 0, 1, 1).data[3] === 0);
        };

        apngTest.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg==';
        // frame 1 (skipped on apng-supporting browsers): [0, 0, 0, 255]
        // frame 2: [0, 0, 0, 0]
    }());

    setTimeout(function () {
        // alert(window.APNG_SUPPORTED)
    }, 3000)
</script>
</body>

</html>


